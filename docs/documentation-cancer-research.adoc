= documentation-cancer-research

image::img/cld.png[]

== Data used:

- Human
- Mouse
- Yeast

We use OMA to map the Types for different Species

image::img/oma.png[]

[source]
--
OGEE: Online GEne Essential database v3.09

Short forms used:
CSEGs	Cancer-specific essential genes
CEGs	Core-essential genes

Criteria used for classifying CSEGs and CEGs:
CSEGs - Genes tested in more than 10 cell lines and essential in only one particular cancer.
CEGs - Genes essential in 80% or more tested cell lines.
--

=== Parse Data:

We prepare our Data with GO

[source]
--
parsing/setup-db/main.go
--

[source,go]
--
const (
	HUMAN = 1
	MOUSE = 2
	YEAST = 3
)

type gene struct {
	id             int
	name           string
	essentialScore *float32
	being          int
}

type dependency struct {
	gene1 gene
	gene2 gene
	score float32
}

type mapping struct {
	gene1 gene
	gene2 gene
}
--

[source,go]
--
func addEssentialScore(genes []gene, essentialScores [][]string) {
	for _, essentialScore := range essentialScores {
		geneId := getGeneIdByName(essentialScore[0], genes)

		if geneId != -1 {
			var score float32

			switch essentialScore[1] {
			case "CSEGs":
				score = 0.8
				break
			case "CEGs":
				score = 0.1
				break
			}

			genes[geneId].essentialScore = &score
		}
	}
}
--

== Transform

Rest interface:

Get requests give us the Genes

Our goal is to find genes equivalent to the human gene and to check whether the animals' synthetic lethal gene has a human gene. if that is the case, we will return it
== Scooring

[source,rs]
--
let mut score = genes.request_gene.essentiality_score.unwrap_or_default();

let pred = |g: &Lethal| -> f32 {
g.lethality_score + g.gene.essentiality_score.unwrap_or_default()
};

let lethality_score =
genes.yeast_genes.iter().map(pred).sum::<f32>() * 0.2
+ genes.human_genes.iter().map(pred).sum::<f32>() * 0.1
+ genes.mouse_genes.iter().map(pred).sum::<f32>() * 0.7;

let mut lethality_divider = 0.0;

if genes.yeast_genes.len() > 0 { lethality_divider += 0.2; }
if genes.mouse_genes.len() > 0 { lethality_divider += 0.7; }
if genes.human_genes.len() > 0 { lethality_divider += 0.1; }

score += (1. - score) * lethality_score / lethality_divider;
--

== Visualize

An example:

image::img/visualize.png[]